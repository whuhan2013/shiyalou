!function(e){function t(n){if(o[n])return o[n].exports;var a=o[n]={exports:{},id:n,loaded:!1};return e[n].call(a.exports,a,a.exports,t),a.loaded=!0,a.exports}var o={};return t.m=e,t.c=o,t.p="",t(0)}([function(e,t,o){var n,a;n=[o(8),o(15),o(19),o(6)],a=function(e,t,o,n){function a(t,o,a){$.post(t,a||{}).done(function(t){"success"==t.status?(l.tencentLabid.indexOf(l.courseId)>-1&&window.location.reload(),$(window).width()<769?(n.hide(),window.location.href=o):setTimeout(function(){n.hide(),window.location.href=t.nexturl},2e3)):t.nexturl?window.location.href=t.nexturl:(n.hide(),e.flashMessage(t.status,t.message))})}function s(){var t=$("#start-evaluation-course");$(".lab-item-start").on("click",function(){var e=$(this).data("url"),o=$(this).data("mobileUrl");if($(this).hasClass("is-evaluation-course"))t.modal("show"),t.find(".start-confirm").off("click").on("click",function(){t.modal("hide"),n.show(),a(e,o)});else if($(this).hasClass("member-vm")){var s=$("#vip-startlab-modal");s.modal("show"),$(".newvm",s).off("click").on("click",function(){s.modal("hide"),n.show(),a(e,o)}),$(".oldvm",s).off("click").on("click",function(){var t={new_env:0};s.modal("hide"),n.show(),a(e,o,t)})}else n.show(),a(e,o);return!1}),$(".lab-item-start-newlab").on("click",function(){if($(this).hasClass("lab-item-started"))window.location.href=$("#header-continue-lab").attr("href");else{var o=$(this).data("url"),s=$(this).data("mobileUrl");if($(this).hasClass("is-evaluation-course"))t.find(".start-newlab").html("<strong>一个实验正在进行，是否停止它，开始新实验？</strong>"),t.modal("show"),t.find(".start-confirm").off("click").on("click",function(){t.modal("hide"),n.show(),$.post(l.startNewlabUrl,{userlab:l.userlabId}).done(function(t){"success"==t.status?setTimeout(function(){a(o,s)},3e3):(n.hide(),e.flashMessage(t.status,t.message))})});else if($(this).hasClass("member-vm")){var i=$("#vip-startlab-modal");i.find(".start-newlab").html("<strong>一个实验正在进行，是否停止它，开始新实验？</strong>"),i.modal("show"),$(".newvm",i).off("click").on("click",function(){i.modal("hide"),n.show(),$.post(l.startNewlabUrl,{userlab:l.userlabId}).done(function(t){"success"==t.status?setTimeout(function(){a(o,s)},3e3):(n.hide(),e.flashMessage(t.status,t.message))})}),$(".oldvm",i).off("click").on("click",function(){i.modal("hide"),n.show(),$.post(l.startNewlabUrl,{userlab:l.userlabId}).done(function(t){"success"==t.status?setTimeout(function(){var e={new_env:0};a(o,s,e)},3e3):(n.hide(),e.flashMessage(t.status,t.message))})})}else $("#start-newlab").modal("show"),$(".start-newlab-confirm").off("click").on("click",function(){$("#start-newlab").modal("hide"),n.show(),$.post(l.startNewlabUrl,{userlab:l.userlabId}).done(function(t){"success"==t.status?setTimeout(function(){a(o,s)},3e3):(n.hide(),e.flashMessage(t.status,t.message))})})}})}function i(e){var t=document.getElementById(e);if(!t)return!1;var o=t.offsetTop,n=$(t).width();window.onscroll=function(){r(e,o,n)}}function r(e,t,o){var n=document.getElementById(e),a=document.documentElement.scrollTop||document.body.scrollTop;a<t?(n.style.position="relative",n.style.top="0"):(n.style.position="fixed",n.style.top="60px",$(n).width(o))}var l=$("#jinja-data").data(),c=$("#editor").val(),d=$("#preview");if(c=t(c),d.html(c),d.find("a").attr("target","_blank"),o.initHighlightingOnLoad(),$(function(){i("info-panel")}),$(".vip-banner .stop-lab-btn").on("click",function(){n.show(),$.post(l.startNewlabUrl,{userlab:l.userlabId}).done(function(e){"success"==e.status&&(window.location.href=l.courseDetail)})}),l.tencentLabid.indexOf(l.courseId)>-1){var u=$('<a href="http://labfile-10066424.cos.myqcloud.com/%E5%9C%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E5%BF%AB%E9%80%9F%E6%9E%84%E5%BB%BAwordpress%E4%B8%AA%E4%BA%BA%E7%AB%99%E7%82%B9.pdf" target="_blank" class="btn btn-default"><i class="fa fa-file-word-o"></i>下载文档</a>');$("#preview > h1:eq(0)").append(u)}$(function(){var e=(new Date).getTime()+1e3*l.leftTime,t=e-(new Date).getTime(),o=setInterval(function(){(new Date).getTime()==e&&clearInterval(o),t>3600&&(t=parseInt(t/1e3));var n=Math.floor(t/60),a=t%60;n=n<10?"0"+n:n,a=a<10?"0"+a:a,$(".vip-banner span").text(n+":"+a),t%10==0?t=e-(new Date).getTime():t--},1e3)}),s()}.apply(t,n),!(void 0!==a&&(e.exports=a))},function(e,t){e.exports=lib},,,function(e,t,o){e.exports=o(1)(62)},function(e,t,o){"use strict";function n(e,t,o,n){var a;o&&"function"==typeof o&&!n?(a=o,o=null):n&&"function"==typeof n&&(a=n);var s=$("#flash-message"),o=parseInt(o)||3e3,e="error"==e?"danger":e,i='<div class="alert alert-'+e+'" style="text-align: center;">'+t+"</div>";s.find(".modal-dialog").html(i),s.modal("show"),s.on("hide.bs.modal",function(){a&&a()}),setTimeout(function(){s.modal("hide")},o)}function a(){n("error","操作过于频繁，请稍后重试")}function s(e,t,o){var n=$("#modal-message"),e="error"==e?"danger":e,a='<div class="alert alert-'+e+'" style="text-align: center;">'+t+"</div>";o&&"string"==typeof o&&n.find(".modal-title").html(o),n.find(".modal-body").html(a),n.modal("show")}function i(e,t,o){$.get(e).done(function(e){if("success"==e.status){var n=e.rank,a="";a+='<div class="sidebox users-top"><div class="sidebox-header users-top-header"><h4 class="sidebox-title">学习排名<span>（有效学习时间）</span></h4></div>';for(var s=0,i=n.length;s<i;s++)a+='<div class="clearfix sidebox-body users-top-body"><div class="pull-left users-top-left">'+r.userAvatar(n[s],"pull-left")+'<div class="users-top-info pull-left">'+r.userName(n[s])+'<br><span class="users-top-study-time">'+n[s].study_time+' 分钟</span></div></div><div class="pull-right users-top-right"><img src="'+n[s].image+'"></div></div>';a+="</div>","html"==o?$(t).html(a):$(t).append(a)}})}var r=o(7);$("#jinja-data").data();!function(e){e.fn.serializeJSON=function(){var t={},o=this.serializeArray();this.serialize();return e(o).each(function(){t[this.name]?e.isArray(t[this.name])?t[this.name].push(this.value):t[this.name]=[t[this.name],this.value]:t[this.name]=this.value}),t}}(jQuery),e.exports={flashMessage:n,modalMessage:s,usersTop:i,flash429Error:a}},function(e,t,o){"use strict";function n(e,t){if(e&&i.css({top:e.offset().top,left:e.offset().left,width:e.width(),height:e.height()}),t){var o=$("<div>"+t+"</div>");o.css({"margin-top":"10px",color:"#fff","font-size":"15px","text-align":"center"}),i.append(o)}i.show()}function a(){i.css({top:0,left:0,width:"auto",height:"auto"}),i.hide()}o(4);var s='<div><i class="fa fa-spinner fa-pulse"></i></div>',i=$(s);$("body").append(i),i.css({display:"none",position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.5)","text-align":"center","z-index":1600}),i.find(".fa").css({"margin-top":.4*$(window).height(),color:"#fff","font-size":"35px"}),$(window).on("resize",function(){i.find(".fa").css({"margin-top":.4*$(window).height()})}),e.exports={show:n,hide:a}},function(e,t){"use strict";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",o="";e.is_member&&(o='\n            <a class="member-icon" href="/vip" target="_blank">\n                <img src="'+e.member_icon+'">\n            </a>');var n='\n        <div class="user-avatar '+t+'">\n            <a class="avatar" href="'+(e.home_page||e.home_page)+'" target="_blank">\n                <img src="'+e.avatar+'">\n            </a>\n            '+o+"\n        </div>";return n}function n(e){return'\n        <div class="user-username">\n            <a class="username" href="'+(e.home_page||e.home_page)+'" target="_blank">\n                '+e.name+'\n            </a>\n            <span class="user-level">L'+e.level+"</span>\n        </div>"}e.exports={userAvatar:o,userName:n}},function(e,t,o){"use strict";function n(){return 0!=$("#lottery-modal").length&&!localStorage.lottery&&($("#lottery-modal").modal("show"),void(localStorage.lottery="shown"))}o(4),o(13),o(10),o(11);var a=o(6),s=o(5),i=$("#base-data").data();$(function(){function e(e,t){$.post(e,{new_env:0}).done(function(e){"success"==e.status?setTimeout(function(){window.location.href=t},2e3):(a.hide(),s.flashMessage(e.status,e.message))})}n(),$(".user-vm-btn").on("click",function(){var t=$(this).data("clear"),o=$(this).data("start"),n=$(this).data("run");return a.show(),$.post(t,{userlab:i.userlabId}).done(function(t){"success"==t.status?setTimeout(function(){e(o,n)},3e3):"error"==t.status&&e(o,n)}),!1}),$(document).on("click",".stat-event",function(){var e=$(this).data("stat");$.post("/api/logstash",{name:e}).fail(function(){console.log("ajax failed")})}),$(".switch-btn input[type=checkbox]").bootstrapSwitch({onText:"是",offText:"否",onColor:"success"}),$('[data-toggle="tooltip"]').tooltip(),$('[data-toggle="popover"]').popover(),i.flash&&($("#flash").modal("show"),setTimeout(function(){$("#flash").modal("hide")},3e3)),$(".header .user-vip").on("click",function(){var e=$(this).data("url");return window.location.href=e,!1}),$(".header").on("click",".tooltip",function(){var e=$(this).data("url");return window.location.href=e,!1}),$("#flash-modal").modal(),$("#new-features").modal("show").find(".btn").on("click",function(){window.open($(this).data("href"),"blank")}),$(".words-ctrl form input, .words-ctrl form textarea").on("keyup keypress",function(){var e=$(this).attr("min"),t=$(this).attr("max"),o=$(this).val().length,n="";void 0!==e&&void 0!==t&&(n=o<e?'<span class="text-danger">字数太少，至少需要'+e+"字</span>":o>t?'<span class="text-danger">字数太多，不能超过'+t+"字</span>":'<span class="text-success">还能输入'+(t-o)+"字</span>",$(this).parent().find(".help-block").html(n).show())})}),$(function(){$("input[name=school]").on("keypress keyup",function(){$(".college-suggestion").remove();var e=this,t=$(this).val();$.get("/search/college",{search:t}).done(function(t){if(console.log(t),t.data.length){for(var o=t.data,n='<div class="college-suggestion">',a=0;a<o.length;a++)n+="<a>"+o[a]+"</a>";n+="</div>",$(e).parent().append(n),$(".college-suggestion").css({position:"absolute",padding:"4px",border:"solid 1px #eee","border-top":"none",background:"#fff","z-index":2e3}).find("a").css({display:"block",padding:"6px 8px",color:"#4c5157","font-size":"13px"}).hover(function(){$(this).css({color:"#fff",background:"#0c9","text-decoration":"none"}),$(e).val($(this).text())},function(){$(this).css({color:"#4c5157",background:"#fff"})}),$(".college-suggestion").on("click",function(){$(".college-suggestion").remove()})}})})}),$(function(){$(".navbar-form input[name=search]").on("keypress keyup",function(){var e=this,t=$(this).val();$.get("/search/json",{search:t}).done(function(t){if(t.data.length){for(var o=t.data,n='<div class="search-autocomplete">',a=0;a<o.length;a++)n+='<a href="/search?search='+encodeURIComponent(o[a])+'">'+o[a]+"</a>";n+="</div>",$(".header .form-group").append(n),$(".search-autocomplete").css({position:"absolute",top:$(e).height()+14,left:1,width:$(e).width()+24,padding:"4px",border:"solid 1px #eee","border-top":"none",background:"#fff","z-index":2e3}).find("a").css({display:"block",padding:"6px 8px",color:"#4c5157","font-size":"13px"}).hover(function(){$(this).css({color:"#fff",background:"#0c9","text-decoration":"none"}),$(e).val($(this).text())},function(){$(this).css({color:"#4c5157",background:"#fff"})}),$(".search-autocomplete").on("mouseleave click",function(){$(".search-autocomplete").remove()})}else $(".search-autocomplete").remove()})})}),e.exports=s},function(e,t,o){"use strict";var n=o(12),a=$("#base-data").data(),s=null;if(a.isLogin){var i={query:"token="+a.jwtToken,transports:["websocket"]};a.isJwt||(i.query="uid="+a.userId),s=n(a.socketUrl,i),s.on("disconnect",function(){s.disconnect()})}e.exports=s},function(e,t){"use strict";var o={placement:"top",html:!0,title:"实验楼用户群",content:'<a target="_blank" href="http://shang.qq.com/wpa/qunwpa?idkey=c080b8e55a975b6c9cf38cbaa8c9af764ddae862bdb4e78682af132862e3c57e">469785612<br>(在校生学习群)</a><a target="_blank" href="http://shang.qq.com/wpa/qunwpa?idkey=c89a6f4810351a227cb5a8db5f2dd43331da23316d8c55ecaf37fb2c858785b9">群1 : 241818371 </a><a>群2：235772301</a><a>群3：450412940</a>',template:'<div class="popover footer-qq-group" role="tooltip"><div class="arrow"></div><h3 class="popover-title footer-qq-group-header"></h3><div class="popover-content footer-qq-group-body"></div></div>',trigger:"click"};$(".footer-qq-item").popover(o)},function(e,t,o){"use strict";var n=o(9);n&&(n.on("event:user:logout",function(){return!localStorage.isClient&&(n.emit("disconnection",""),void n.disconnect())}),n.on("event:msg:new",function(e){$(".header-msg-count").show(),$(".header-msg-mark").show(),$(".header-avatar").tooltip("show")}),n.on("event:msg:all_read",function(e){$(".header-msg-count").hide(),$(".header-msg-mark").hide()}))},function(e,t,o){e.exports=o(1)(137)},function(e,t,o){e.exports=o(1)(61)},,function(e,t,o){"use strict";function n(e){if("$"===e[0]&&"$"===e[e.length-1]){if(e=e.substr(1,e.length-2),"$"===e[0]&&"$"===e[e.length-1]){if(e=e.substr(1,e.length-2),!e.length)return null;try{return c.renderToString(e)}catch(e){return null}}}return null}function a(e){if("@"===e[0]&&"@"===e[e.length-1]){var t=function(){e=e.substr(1,e.length-2).trim();var t=e.split(/[,\s]+/g),o={},n=/\.(\w+)$/g;t.map(function(e,t,a){if(n.lastIndex=0,n.test(e)){n.lastIndex=0;var s=n.exec(e)[1];o[s]=e}});var a="";for(var s in o){var i="flv"===s?"x-flv":s;a+='<source src="'+o[s]+'" type="video/'+i+'">'}var r=!1;try{r=Boolean(new ActiveXObject("ShockwaveFlash.ShockwaveFlash"))}catch(e){r="undefined"!=typeof navigator.mimeTypes["application/x-shockwave-flash"]}var l="";return r||(l='<blockquote><p>您还没有安装flash播放器，请点击<a href="http://www.adobe.com/go/getflash" target="_blank">这里</a>安装</p>\n                <p>安装后重启浏览器即可播放视频</p></blockquote>'),{v:$("<div>"+l+'<video class="video-js vjs-default-skin" controls preload="auto"\n            data-setup=\'{"fluid":true}\'>'+a+"</video></div>").html()}}();if("object"===("undefined"==typeof t?"undefined":i(t)))return t.v}return null}function s(e,t){t=t||{},Object.keys(d).forEach(function(e){void 0===t[e]&&(t[e]=d[e])}),t.renderer=new r.Renderer,t.math!==!1&&!function(){var e=t.renderer.codespan.bind(t.renderer);t.renderer.codespan=function(t){var o=void 0;return(o=n(t))?o:e(t)}}(),t.video!==!1&&!function(){var e=t.renderer.codespan.bind(t.renderer);t.renderer.codespan=function(t){var o=void 0;return(o=a(t))?o:e(t)}}();var o=r(e,t);o=l().process(o,{sync:!0}).html;var s=$("<div>"+o+"</div>");return s.find("script").each(function(){var e=$(this).html();$(this).replaceWith("<pre><code>"+e+"</code></pre>")}),o=s.html()}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=o(21),l=o(22),c=o(20);o(23);r.Lexer.rules.gfm.heading=r.Lexer.rules.normal.heading,r.Lexer.rules.tables.heading=r.Lexer.rules.normal.heading;var d={gfm:!0,tables:!0,breaks:!1,pedantic:!0,sanitize:!1,smartLists:!0,smartypants:!1};e.exports=s},,,,function(e,t){e.exports=hljs},function(e,t,o){e.exports=o(1)(115)},function(e,t,o){e.exports=o(1)(128)},function(e,t,o){e.exports=o(1)(135)},function(e,t){e.exports=videojs}]);
//# sourceMappingURL=labDoc.js.map